(function(){"use strict";function o(n,e,t,a,l,c,_,L){var i=typeof n=="function"?n.options:n;e&&(i.render=e,i.staticRenderFns=t,i._compiled=!0),a&&(i.functional=!0),c&&(i._scopeId="data-v-"+c);var r;if(_?(r=function(s){s=s||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!s&&typeof __VUE_SSR_CONTEXT__<"u"&&(s=__VUE_SSR_CONTEXT__),l&&l.call(this,s),s&&s._registeredComponents&&s._registeredComponents.add(_)},i._ssrRegister=r):l&&(r=L?function(){l.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:l),r)if(i.functional){i._injectStyles=r;var O=i.render;i.render=function(S,d){return r.call(d),O(S,d)}}else{var u=i.beforeCreate;i.beforeCreate=u?[].concat(u,r):[r]}return{exports:n,options:i}}const p={};var f=function(){var e=this,t=e._self._c;return t("div",{on:{dblclick:e.open}},[t("fm-link-preview",{attrs:{content:e.content}})],1)},h=[],v=o(p,f,h,!1,null,null,null,null);const m=v.exports,V="",k={computed:{title(){return this.content.title||"—"}}};var w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fm-menu-submenu",on:{dblclick:e.open}},[t("div",{staticClass:"fm-menu-submenu__title"},[t("k-icon",{attrs:{type:"bars"}}),t("div",[e._v(e._s(e.title))])],1),t("ul",e._l(e.content.items,function(a,l){return t("li",{key:l,staticClass:"fm-menu-submenu__item"},[t("fm-link-preview",{attrs:{content:a.content}})],1)}),0)])},y=[],b=o(k,w,y,!1,null,null,null,null);const C=b.exports,H="",$={props:{type:String,content:Object},data(){return{model:null,types:null}},props:{content:Object,url:{type:Boolean,default:!0}},computed:{tag(){var n;return(n=this.detected)!=null&&n.link?"a":"div"},currentType(){return this.type??this.detected.type},icon(){var n,e,t;return(e=(n=this.model)==null?void 0:n.image)!=null&&e.icon?this.model.image.icon:(this.types===null&&(this.types=this.$helper.link.types()),((t=this.types[this.currentType])==null?void 0:t.icon)||"question")},anchor(){return this.currentType?`#${this.content.anchor}`:null},detected(){return this.$helper.link.detect(this.content.link)},download(){var n;return["custom","file"].includes(this.currentType)&&((n=this.content)==null?void 0:n.download)},isLink(){return["url","email","tel"].includes(this.currentType)},new_tab(){return this.content.new_tab},text(){var n;return this.content.text||((n=this.model)==null?void 0:n.label)||"—"}},watch:{detected:{async handler(n,e){n!==e&&(this.model=await this.$helper.link.preview(this.detected))},immediate:!0}}};var g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fm-link-preview"},[t("k-icon",{staticClass:"fm-link-preview__icon",attrs:{type:e.icon}}),t("div",{staticClass:"fm-link-preview__text"},[e._v(e._s(e.text)+" "),e.anchor?t("span",{staticClass:"fm-link-preview__anchor"},[e._v(e._s(e.anchor))]):e._e()]),e.download?t("k-icon",{staticClass:"fm-link-preview__icon",attrs:{type:"download",title:"Force download"}}):e._e(),e.new_tab?t("k-icon",{staticClass:"fm-link-preview__icon",attrs:{type:"open",title:"Open in new tab"}}):e._e()],1)},T=[],R=o($,g,T,!1,null,null,null,null);const F=R.exports;panel.plugin("fabianmichael/links",{blocks:{link:m,submenu:C},components:{"fm-link-preview":F},icons:{external:'<path d="M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6Zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8Z"/>'}})})();
